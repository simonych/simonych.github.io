---
layout: post
title: Отладка регламентных заданий
---

Как отладить выполнение кода на сервере (например с целью разобраться с проблемой при выполнении регламентного задания, или серверной обработки)?

Для начинающих программистов задача выполнения такой настройки может быть весьма нетривиальной. Сам был в подобном положении, знаю.

Привожу, вам в помощь, примерные настройки 1С - при помощи которых мне удалось решить поставленную передо мной задачу.

### Что нужно сделать...

1. Запустить «1C:Enterprise 8.Х Server Agent» в режиме отладки
  * Для этого включить REGEDIT и дописать “-debug” к строке запуска агента (1С или BAF "Server Agent"):
   ![#01](https://simonych.github.io/images/2101-01-04-server-debug-01.jpg)
  
  * Включить SERVICES.MSC и перезапустить агент:
   ![#02](https://simonych.github.io/images/2101-01-04-server-debug-02.jpg)
1. Убедиться, что строка соединения с базой данных  и возврат функции СтрокаСоединенияИнформационнойБазы() совпадают, для этого:
   ![#03](https://simonych.github.io/images/2101-01-04-server-debug-03.jpg)
 * Вставить в код регламентного задания процедуру для записи строки соединения с базой данных в журнал регистрации
~~~
  ЗаписьЖурналаРегистрации("Соединение с базой",,,,СтрокаСоединенияИнформационнойБазы());
~~~  
 * Запустить 1С в режиме Предприятие и выполнить регламентное задание
 * Найти в журнале регистрации запись "Соединение с базой" и взять правильную строку соединения с базой данных
 * Подогнать строку соединения под то, что вывелось в журнал:
    ![#04](https://simonych.github.io/images/2101-01-04-server-debug-04.jpg)
1. В режиме Конфигуратора настроить параметры отладки как показано ниже: 
    ![#05](https://simonych.github.io/images/2101-01-04-server-debug-05.jpg)
1. Убедиться в том, что блокировка регламентных заданий для нашей базы выключена: 
    ![#06](https://simonych.github.io/images/2101-01-04-server-debug-06.jpg)
1. Поставить в коде задания точку останова и запустить отладку.

Как-то так...

Больше полезных приемов вы можете узнать на курсах: [Программирование с использованием платформы 1С:Предприятие 8.3 или BAS](https://www.facebook.com/abc1courses)
